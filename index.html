<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolokace a Informace o Zařízení</title>
    <script>
        // Funkce pro získání informací
        function getDeviceInfo() {
            // Získání informací o zařízení (User Agent)
            var userAgent = navigator.userAgent;

            // Funkce pro získání veřejné IP adresy
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    var ipAddress = data.ip;
                    // Získání města a země pomocí IP geolokačního API
                    fetch(`https://ipinfo.io/${ipAddress}/json`)
                        .then(response => response.json())
                        .then(info => {
                            var city = info.city;
                            var country = info.country;

                            // VPN status (Toto je velmi základní kontrola, potřebuje pokročilejší detekci)
                            var vpnStatus = "Neznámé"; // Tohle bych doporučil detekovat pomocí externího API nebo knihovny

                            // Získání GPS souřadnic
                            if (navigator.geolocation) {
                                navigator.geolocation.getCurrentPosition(position => {
                                    var lat = position.coords.latitude;
                                    var lon = position.coords.longitude;

                                    // Sestavení odkazu na Mapy.cz
                                    var mapUrl = `https://mapy.cz/zakladni?x=${lon}&y=${lat}&z=13`;

                                    // Zobrazení informací na stránce
                                    displayInfo(userAgent, ipAddress, city, country, vpnStatus, lat, lon, mapUrl);
                                }, () => {
                                    alert("Chyba při získávání GPS souřadnic.");
                                });
                            } else {
                                alert("Geolokace není podporována tímto prohlížečem.");
                            }
                        });
                });
        }

        // Funkce pro zobrazení informací na stránce
        function displayInfo(userAgent, ipAddress, city, country, vpnStatus, lat, lon, mapUrl) {
            var output = `
                📱 Zařízení: ${userAgent}<br>
                🌍 IP Adresa: ${ipAddress} (Město: ${city}, Země: ${country})<br>
                🌐 VPN: ${vpnStatus}<br>
                📍 GPS Souřadnice: ${lat}, ${lon}<br>
                🔗 Mapa: <a href="${mapUrl}" target="_blank">Zobrazit na Mapy.cz</a>
            `;
            document.getElementById("output").innerHTML = output;
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>Geolokace a Informace o Zařízení</h2>
        <button onclick="getDeviceInfo()">Získat Informace</button>
        <div id="output"></div>
    </div>
</body>
</html>
