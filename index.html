<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolokace a Informace o Za콏칤zen칤</title>
    <script>
        // Funkce pro z칤sk치n칤 informac칤
        function getDeviceInfo() {
            // Z칤sk치n칤 informac칤 o za콏칤zen칤 (User Agent)
            var userAgent = navigator.userAgent;

            // Funkce pro z칤sk치n칤 ve콏ejn칠 IP adresy
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    var ipAddress = data.ip;
                    // Z칤sk치n칤 m캩sta a zem캩 pomoc칤 IP geoloka캜n칤ho API
                    fetch(`https://ipinfo.io/${ipAddress}/json`)
                        .then(response => response.json())
                        .then(info => {
                            var city = info.city;
                            var country = info.country;

                            // VPN status (Toto je velmi z치kladn칤 kontrola, pot콏ebuje pokro캜ilej코칤 detekci)
                            var vpnStatus = "Nezn치m칠"; // Tohle bych doporu캜il detekovat pomoc칤 extern칤ho API nebo knihovny

                            // Z칤sk치n칤 GPS sou콏adnic
                            if (navigator.geolocation) {
                                navigator.geolocation.getCurrentPosition(position => {
                                    var lat = position.coords.latitude;
                                    var lon = position.coords.longitude;

                                    // Sestaven칤 odkazu na Mapy.cz
                                    var mapUrl = `https://mapy.cz/zakladni?x=${lon}&y=${lat}&z=13`;

                                    // Zobrazen칤 informac칤 na str치nce
                                    displayInfo(userAgent, ipAddress, city, country, vpnStatus, lat, lon, mapUrl);
                                }, () => {
                                    alert("Chyba p콏i z칤sk치v치n칤 GPS sou콏adnic.");
                                });
                            } else {
                                alert("Geolokace nen칤 podporov치na t칤mto prohl칤쬰캜em.");
                            }
                        });
                });
        }

        // Funkce pro zobrazen칤 informac칤 na str치nce
        function displayInfo(userAgent, ipAddress, city, country, vpnStatus, lat, lon, mapUrl) {
            var output = `
                游님 Za콏칤zen칤: ${userAgent}<br>
                游깴 IP Adresa: ${ipAddress} (M캩sto: ${city}, Zem캩: ${country})<br>
                游깷 VPN: ${vpnStatus}<br>
                游늸 GPS Sou콏adnice: ${lat}, ${lon}<br>
                游댕 Mapa: <a href="${mapUrl}" target="_blank">Zobrazit na Mapy.cz</a>
            `;
            document.getElementById("output").innerHTML = output;
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>Geolokace a Informace o Za콏칤zen칤</h2>
        <button onclick="getDeviceInfo()">Z칤skat Informace</button>
        <div id="output"></div>
    </div>
</body>
</html>
